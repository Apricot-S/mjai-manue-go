# postprocess_light_game_stats

This tool transforms score differentials generated by `dump_light_game_stats` into win probabilities.

## What It Does

- Loads a score differential map generated by `dump_light_game_stats`
- Computes score ratio distributions for each player in each round
- Calculates relative score distributions between every pair of seat positions
- Derives and outputs cumulative win probabilities for player-vs-player comparisons

## Output

The tool writes the resulting win probabilities as JSON to standard output.
You can redirect or pipe it as needed for downstream processing.

The output is directly usable as `configs/light_game_stats.json`.

## Usage

With the top-level directory of working tree of this repository as the current directory, run the following command:

```sh
go run ./tools/postprocess_light_game_stats <score_stats.json> > <light_game_stats.json>
```

- `<score_stats.json>` must contain the raw output from `dump_light_game_stats`.
- Output is written to `<light_game_stats.json>` in JSON format.

### Sample Output (formatted)

```json
{
  "winProbsMap": {
    "E1,0,1": {
      ...
      "-100": 0.4201448961937716,
      "-1000": 0.40051903114186843,
      ...
    },
    "E1,0,2": {
      ...
    },
    ...
  }
}
```
